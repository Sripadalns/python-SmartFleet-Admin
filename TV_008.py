import numpy as np
import datetime
import requests
import time
import random

# Bladwin School to Ulsoor - Bangalore route MAP.

x=np.array([
[77.6809572,12.8338947],
 [77.6809572,12.8338947],
 [77.6807357,12.833904],
 [77.680246,12.8338939],
 [77.6801748,12.8340946],
 [77.6799875,12.8346085],
 [77.6798689,12.8349647],
 [77.6797899,12.8351714],
 [77.6796336,12.8355806],
 [77.6794318,12.8361325],
 [77.67949520000001,12.836184],
 [77.67948749999999,12.8361943],
 [77.6794987,12.8361794],
 [77.67943,12.83613],
 [77.67934,12.83634],
 [77.67917,12.83682],
 [77.67906000000001,12.83717],
 [77.67892999999999,12.83747],
 [77.67870000000001,12.83784],
 [77.67836,12.83839],
 [77.67797,12.83893],
 [77.67711,12.84006],
 [77.67699,12.83999],
 [77.67689,12.83992],
 [77.67687410000001,12.8399406],
 [77.67606000000001,12.84099],
 [77.67489999999999,12.84247],
 [77.67393,12.84372],
 [77.67243000000001,12.84566],
 [77.6721044,12.8460807],
 [77.67106,12.84743],
 [77.6709,12.84764],
 [77.67047,12.84812],
 [77.67036,12.84824],
 [77.66992999999999,12.84875],
 [77.66893,12.8501],
 [77.66719000000001,12.85229],
 [77.66665,12.85299],
 [77.66549999999999,12.85443],
 [77.66516009999999,12.8548598],
 [77.66428999999999,12.85596],
 [77.66423,12.85592],
 [77.66418,12.85598],
 [77.66383999999999,12.85642],
 [77.66293,12.85753],
 [77.66167,12.85911],
 [77.6616695,12.8591106],
 [77.65966,12.86168],
 [77.65894,12.86254],
 [77.6563,12.8659],
 [77.65407999999999,12.86868],
 [77.65372000000001,12.86903],
 [77.6536618,12.8691241],
 [77.65346,12.86945],
 [77.65335,12.86959],
 [77.65338,12.86972],
 [77.65325,12.86985],
 [77.65234,12.87101],
 [77.65111,12.87257],
 [77.65040999999999,12.87342],
 [77.64916,12.8748],
 [77.64827,12.87581],
 [77.64766,12.87653],
 [77.64716,12.87722],
 [77.64705669999999,12.8773876],
 [77.6461,12.87894],
 [77.64303,12.8839],
 [77.6394918,12.8896599],
 [77.63916,12.8902],
 [77.63743,12.89303],
 [77.63563000000001,12.89594],
 [77.6354673,12.8962052],
 [77.63015,12.90487],
 [77.6301464,12.9048758],
 [77.62909999999999,12.90655],
 [77.62729,12.90945],
 [77.62709,12.90985],
 [77.62690000000001,12.91015],
 [77.62594300000001,12.9117327],
 [77.62586570000001,12.9116882],
 [77.62587139999999,12.9117262],
 [77.6260115,12.9118274],
 [77.6260477,12.9118626],
 [77.6260204,12.9118467],
 [77.62717000000001,12.90996],
 [77.62744000000001,12.90963],
 [77.62899,12.90712],
 [77.62842000000001,12.9068],
 [77.628416,12.9067976],
 [77.62821,12.90667],
 [77.62792,12.90642],
 [77.62785,12.90635],
 [77.62781,12.90609],
 [77.62761999999999,12.9053],
 [77.62742,12.9043],
 [77.62724,12.90352],
 [77.6272391,12.9035084],
 [77.62723,12.90339],
 [77.62726000000001,12.90329],
 [77.62737,12.90305],
 [77.62743,12.90269],
 [77.62744000000001,12.9025],
 [77.62743810000001,12.9024833],
 [77.62743,12.90241],
 [77.62737,12.90207],
 [77.62718,12.901],
 [77.62712500000001,12.9007914],
 [77.62675,12.89937],
 [77.62653,12.89852],
 [77.6265288,12.8985143],
 [77.6262117,12.897058],
 [77.62621,12.89705],
 [77.62614000000001,12.89664],
 [77.62609000000001,12.89609],
 [77.6260702,12.895724],
 [77.626139,12.8957204],
 [77.626068,12.8957233],
 [77.62607250000001,12.8958259],
 [77.62543359999999,12.8959079],
 [77.625412,12.895913],
 [77.625387,12.8959193],
 [77.6253737,12.8959302],
 [77.6253675,12.8959436],
 [77.6253581,12.8959862],
 [77.6253653,12.8960787],
 [77.62513970000001,12.8961001],
 [77.6247168,12.8961388],
 [77.6245528,12.896161],
 [77.62444069999999,12.8963856],
 [77.624376,12.8964715],
 [77.6243446,12.8965033],
 [77.62430620000001,12.8965286],
 [77.6242697,12.8965433],
 [77.6242263,12.8965516],
 [77.62419,12.8965558],
 [77.6241132,12.8965577],
 [77.6239475,12.8965391],
 [77.623825,12.8965231],
 [77.6236613,12.8964972],
 [77.6235966,12.8964844],
 [77.623451,12.8964391],
 [77.62336070000001,12.8964119],
 [77.6231674,12.8963807],
 [77.6233034,12.8972546],
 [77.6230679,12.897283],
 [77.6213688,12.8973771],
 [77.6214404,12.8976761],
 [77.6207953,12.8978919],
 [77.62042440000001,12.8980017],
 [77.6201397,12.8980994],
 [77.6198327,12.8982328],
 [77.6197608,12.8982607],
 [77.61971509999999,12.8982712],
 [77.61965170000001,12.8982656],
 [77.6192192,12.8981816],
 [77.61915209999999,12.898163],
 [77.6190891,12.8981286],
 [77.6190316,12.898089],
 [77.61897930000001,12.8980494],
 [77.61893000000001,12.8980256],
 [77.6188743,12.8980085],
 [77.6187975,12.8980027],
 [77.6185079,12.8980054],
 [77.6184272,12.8980009],
 [77.61831789999999,12.8979901],
 [77.6180186,12.8979506],
 [77.6179588,12.8983274],
 [77.61793659999999,12.8983515],
 ] )

print x.shape[0]

for len in range (x.shape[0],0,-1):
     longx = str(x[len-1,0])
     latx  = str(x[len-1,1])
     timex =  datetime.datetime.now().strftime("%Y-%m-%d %H:%M:%S")
     print timex
     r = requests.put("http://track.intracworks.com:5055/?id="+(str(382063))+"&lat="+(latx)+"&lon="+(longx)+"&timestamp="+(timex)+"&speed="+ str(random.randint(10,40)))
     time.sleep(0.01)

r = requests.put("http://track.intracworks.com:5055/?id="+(str(382063))+"&lat="+(latx)+"&lon="+(longx)+"&timestamp="+(timex)+"&speed="+ str(0))
time.sleep(0.01)
r = requests.put("http://track.intracworks.com:5055/?id="+(str(382063))+"&lat="+(latx)+"&lon="+(longx)+"&timestamp="+(timex)+"&speed="+ str(0))

     

time.sleep(600)

for len in range (0 , x.shape[0]):
     longx = str(x[len,0])
     latx  = str(x[len,1])
     timex =  datetime.datetime.now().strftime("%Y-%m-%d %H:%M:%S")
     r = requests.put("http://track.intracworks.com:5055/?id="+(str(382063))+"&lat="+(latx)+"&lon="+(longx)+"&timestamp="+(timex)+"&speed="+ str(random.randint(10,40)))
     delay_time = random.randint(1,5) 
     time.sleep(0.01)
time.sleep(320)

r = requests.put("http://track.intracworks.com:5055/?id="+(str(382063))+"&lat="+(latx)+"&lon="+(longx)+"&timestamp="+(timex)+"&speed="+ str(0))
time.sleep(0.01)
r = requests.put("http://track.intracworks.com:5055/?id="+(str(382063))+"&lat="+(latx)+"&lon="+(longx)+"&timestamp="+(timex)+"&speed="+ str(0))





