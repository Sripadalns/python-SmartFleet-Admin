import numpy as np
import datetime
import requests
import time
import random

# Nagavarpalya to NHPS - Bangalore route MAP.

x=np.array([
     [77.66661980000001,12.9890364],
[77.66661980000001,12.9890364],
[77.66669349999999,12.9886866],
[77.6666908,12.9885573],
[77.6666927,12.9884381],
[77.6667633,12.9882102],
[77.6667655,12.9881871],
[77.66676200000001,12.9881513],
[77.6667569,12.9881222],
[77.6667337,12.9878368],
[77.66675119999999,12.9875269],
[77.66677540000001,12.9872203],
[77.6667989,12.987137],
[77.666816,12.9870668],
[77.6668227,12.987017],
[77.66682299999999,12.9869224],
[77.6668179,12.9868929],
[77.6668126,12.9868614],
[77.66676010000001,12.98669],
[77.6667404,12.9864594],
[77.6667666,12.9863509],
[77.6667808,12.9862887],
[77.66680049999999,12.9862252],
[77.66685510000001,12.9861217],
[77.6668729,12.986088],
[77.66689169999999,12.9860056],
[77.6668966,12.9858111],
[77.6668873,12.9856575],
[77.66687330000001,12.9856038],
[77.666854,12.9855607],
[77.66683260000001,12.9855303],
[77.6668042,12.9854971],
[77.666765,12.9854663],
[77.6667416,12.9854538],
[77.6667125,12.9853736],
[77.66668900000001,12.9852691],
[77.6666815,12.9851361],
[77.66657410000001,12.9851566],
[77.6664578,12.9851831],
[77.66622700000001,12.9852464],
[77.6658674,12.9853511],
[77.6658121,12.985358],
[77.66564409999999,12.9853763],
[77.6655378,12.9853877],
[77.6654898,12.9853925],
[77.6652486,12.9854289],
[77.66508140000001,12.9854405],
[77.6650394,12.9854468],
[77.66464689999999,12.9854582],
[77.6641197,12.9854758],
[77.6640704,12.9854826],
[77.6640299,12.9854895],
[77.6639849,12.9855051],
[77.66392310000001,12.9855337],
[77.6638959,12.9855809],
[77.663893,12.9856241],
[77.6638852,12.9860383],
[77.6638574,12.9864342],
[77.66381970000001,12.9867875],
[77.66381730000001,12.9869271],
[77.66381,12.9870724],
[77.66380340000001,12.9871308],
[77.66368780000001,12.9871487],
[77.6635047,12.9871723],
[77.6634253,12.9871821],
[77.663105,12.9872193],
[77.66271190000001,12.9872663],
[77.6625571,12.9872848],
[77.66239830000001,12.9873016],
[77.6621579,12.9873288],
[77.6621542,12.9872982],
[77.66215750000001,12.9873256],
[77.66159,12.98739],
[77.66142000000001,12.98595],
[77.6614,12.9857],
[77.6614194,12.9856222],
[77.66142000000001,12.98562],
[77.66146000000001,12.98547],
[77.66142000000001,12.98507],
[77.66134,12.98465],
[77.66119999999999,12.98427],
[77.66108,12.98418],
[77.66096,12.98409],
[77.6608,12.98406],
[77.66055,12.98407],
[77.66028,12.98404],
[77.66002,12.98394],
[77.65951,12.98366],
[77.65897,12.98329],
[77.65884,12.98313],
[77.65875,12.98296],
[77.65849,12.9816],
[77.65841,12.98141],
[77.65819000000001,12.98129],
[77.65696,12.98087],
[77.6566855,12.9807679],
[77.65653,12.98071],
[77.65646,12.98064],
[77.65634,12.9806],
[77.65569000000001,12.98042],
[77.65479000000001,12.98006],
[77.65387,12.97963],
[77.6532,12.97928],
[77.6532,12.97927],
[77.6532,12.97926],
[77.6532,12.97925],
[77.65319,12.97924],
[77.65346200000001,12.9789464],
[77.65470000000001,12.97761],
[77.65487,12.97736],
[77.65489,12.97729],
[77.65479999999999,12.97707],
[77.65481680000001,12.9770044],
[77.65483500000001,12.976933],
[77.65483500000001,12.976923],
[77.654839,12.976903],
[77.654887,12.976805],
[77.654901,12.976781],
[77.65490800000001,12.976768],
[77.654918,12.976741],
[77.654929,12.976717],
[77.655018,12.97662],
[77.65504300000001,12.976586],
[77.655056,12.976569],
[77.655067,12.976559],
[77.655636,12.97598],
[77.656269,12.975277],
[77.656942,12.974402],
[77.657393,12.973717],
[77.6579,12.972822],
[77.658315,12.972011],
[77.658374,12.97194],
[77.658374,12.971923],
[77.658377,12.971866],
[77.658377,12.971859],
[77.658377,12.971843],
[77.658339,12.971789],
[77.65832500000001,12.971772],
[77.658304,12.971755],
[77.65828000000001,12.971738],
[77.658259,12.971721],
[77.658232,12.971707],
[77.65821099999999,12.971697],
[77.658169,12.971629],
[77.658045,12.971575],
[77.6580178,12.9715709],
[77.657781,12.971535],
[77.65726600000001,12.971513],
[77.656645,12.971559],
[77.65571900000001,12.971702],
[77.655101,12.971822],
[77.6540911,12.9720676],
[77.65406900000001,12.972073],
[77.653541,12.972165],
[77.653087,12.972186],
[77.65207599999999,12.9723],
[77.651297,12.972445],
[77.6510538,12.9724914],
[77.650988,12.972504],
[77.65087699999999,12.972517],
[77.650873,12.972517],
[77.65066899999999,12.972489],
[77.650408,12.972411],
[77.650021,12.972353],
[77.649844,12.972351],
[77.64927900000001,12.97239],
[77.649109,12.972422],
[77.648783,12.972498],
[77.64859800000001,12.972565],
[77.648439,12.97266],
[77.64818099999999,12.972825],
[77.648005,12.972918],
[77.647729,12.973018],
[77.647497,12.973069],
[77.647274,12.973085],
[77.64715,12.973101],
[77.64703900000001,12.97312],
[77.646964,12.973148],
[77.646935,12.973174],
[77.6468634,12.9741776],
[77.646815,12.974857],
[77.64657,12.97851],
[77.64609849999999,12.9784944],
[77.64416,12.97843],
[77.6409,12.97832],
[77.6409091,12.978163],
[77.64100000000001,12.9766],
[77.64113999999999,12.97385],
[77.64125,12.97385],
[77.64113999999999,12.97385],
[77.64135,12.97021],
[77.6414,12.96885],
[77.64140519999999,12.9687307],
[77.64146,12.96746],
[77.6414817,12.9671129],
[77.6414963,12.9671138],
[77.6414712,12.9671121],
[77.6414437,12.9674894],
[77.64144,12.9677435],

     ] )

print x.shape[0]

for len in range (x.shape[0],0,-1):
     longx = str(x[len-1,0])
     latx  = str(x[len-1,1])
     timex =  datetime.datetime.now().strftime("%Y-%m-%d %H:%M:%S")
     print timex
     r = requests.put("http://track.intracworks.com:5055/?id="+(str(382061))+"&lat="+(latx)+"&lon="+(longx)+"&timestamp="+(timex)+"&speed="+ str(random.randint(10,40)))
     time.sleep(0.01)

r = requests.put("http://track.intracworks.com:5055/?id="+(str(382061))+"&lat="+(latx)+"&lon="+(longx)+"&timestamp="+(timex)+"&speed="+ str(0))
time.sleep(0.01)
r = requests.put("http://track.intracworks.com:5055/?id="+(str(382061))+"&lat="+(latx)+"&lon="+(longx)+"&timestamp="+(timex)+"&speed="+ str(0))

     

time.sleep(600)

for len in range (0 , x.shape[0]):
     longx = str(x[len,0])
     latx  = str(x[len,1])
     timex =  datetime.datetime.now().strftime("%Y-%m-%d %H:%M:%S")
     r = requests.put("http://track.intracworks.com:5055/?id="+(str(382061))+"&lat="+(latx)+"&lon="+(longx)+"&timestamp="+(timex)+"&speed="+ str(random.randint(10,40)))
     delay_time = random.randint(1,5) 
     time.sleep(0.01)
time.sleep(320)

r = requests.put("http://track.intracworks.com:5055/?id="+(str(382061))+"&lat="+(latx)+"&lon="+(longx)+"&timestamp="+(timex)+"&speed="+ str(0))
time.sleep(0.01)
r = requests.put("http://track.intracworks.com:5055/?id="+(str(382061))+"&lat="+(latx)+"&lon="+(longx)+"&timestamp="+(timex)+"&speed="+ str(0))





